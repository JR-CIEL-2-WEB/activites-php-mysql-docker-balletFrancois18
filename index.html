<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice 4.2</title>
    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            // Affiche une alerte au lancement de la page
            alert("Bienvenue ! Sélection de 5 chiffres aléatoires en cours...");

            // Générer 5 chiffres aléatoires
            const randomNumbers = Array.from({ length: 5 }, () => Math.floor(Math.random() * 100) + 1);

            console.log("Chiffres générés :", randomNumbers);

            // Envoyer les chiffres au serveur
            try {
                const response = await fetch("/main.php", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({ numbers: randomNumbers })
                });

                if (!response.ok) {
                    throw new Error("Erreur lors de la communication avec le serveur");
                }

                // Recevoir les données triées du serveur
                const sortedData = await response.json();

                // Afficher les chiffres triés dans l'ordre croissant
                const resultContainer = document.getElementById("result");
                resultContainer.textContent = "Chiffres triés : " + sortedData.sortedNumbers.join(", ");
                console.log("Chiffres triés reçus du serveur :", sortedData.sortedNumbers);
            } catch (error) {
                console.error("Erreur :", error);
            }
        });
    </script>
</head>
<body>
    <h1>Exercice 4.2</h1>
    <p id="result">Chargement des données...</p>
</body>
</html>
